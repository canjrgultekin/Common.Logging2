{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft": "Warning",
      "Microsoft.Hosting.Lifetime": "Information"
    }
  },
  "Kafka": {
    "BootstrapServers": "kafka:9092",
    "Topic": "logs-topic",
    "GroupId": "log-consumers",
    "SslCaLocation": "",
    "SslCertificateLocation": "",
    "SslKeyLocation": "",
    "Producer": {
      "RetryBackoffMs": 100,
      "MessageTimeoutMs": 8000,
      "RetryPolicy": {
        "MaxRetryAttempts": 3,
        "BaseDelaySeconds": 2
      },
      "CircuitBreaker": {
        "FailureThreshold": 3,
        "DurationOfBreakSeconds": 30
      }
    },
    "Consumer": {
      "AutoOffsetReset": "Earliest",
      "MaxRetryAttempts": 3,
      "MaxConcurrentMessages": 200,
      "MaxPollIntervalMs": 300000,
      "SessionTimeoutMs": 8000,
      "RetryPolicy": {
        "MaxRetryAttempts": 3,
        "BaseDelaySeconds": 2
      },
      "CircuitBreaker": {
        "FailureThreshold": 3,
        "DurationOfBreakSeconds": 30
      },
      "SemaphoreLimit": 100
    }
  },
  "Elasticsearch": {
    "Url": "http://elasticsearch:9200",
    "Username": "elastic",
    "Password": "changeme",
    "RequestTimeout": 3000
  },
  "OpenTelemetry": {
    "ServiceName": "Microservice1",
    "TracingLevel": "Information",
    "OtlpExporterEndpoint": "http://otel-collector:4317"
  },
  "Jaeger": {
    "AgentHost": "jaeger",
    "AgentPort": 6831
  },
  "Serilog": {
    "Using": [ "Serilog.Sinks.Console", "Serilog.Sinks.Elasticsearch" ],
    "MinimumLevel": {
      "Default": "Information"
    },
    "WriteTo": [
      {
        "Name": "Console"
      },
      {
        "Name": "Elasticsearch",
        "Args": {
          "nodeUris": "http://elasticsearch:9200",
          "indexFormat": "logstash-{0:yyyy.MM.dd}",
          "restrictedToMinimumLevel": "Information",
          "autoRegisterTemplate": true,
          "failureCallback": "console"
        }
      },
      {
        "Name": "Elasticsearch",
        "Args": {
          "nodeUris": "http://elasticsearch:9200",
          "indexFormat": "logstash-errors-{0:yyyy.MM.dd}",
          "restrictedToMinimumLevel": "Error",
          "autoRegisterTemplate": true
        }
      }
    ]
  },
  "ThreadSafety": {
    "MaxConcurrentMessages": 100
  },
  "Timeouts": {
    "HttpRequestTimeout": 30,
    "KafkaRetryTimeout": 1000,
    "ElasticsearchRetryTimeout": 3000
  },
  "AllowedHosts": "*"
}
